/*! fighterr 2013-11-21*/
function printStackTrace(a){a=a||{guess:!0};var b=a.e||null,c=!!a.guess,d=new printStackTrace.implementation,e=d.run(b);return c?d.guessAnonymousFunctions(e):e}"undefined"!=typeof module&&module.exports&&(module.exports=printStackTrace),printStackTrace.implementation=function(){},printStackTrace.implementation.prototype={run:function(a,b){return a=a||this.createException(),b=b||this.mode(a),"other"===b?this.other(arguments.callee):this[b](a)},createException:function(){try{this.undef()}catch(a){return a}},mode:function(a){return a.arguments&&a.stack?"chrome":a.stack&&a.sourceURL?"safari":a.stack&&a.number?"ie":"string"==typeof a.message&&"undefined"!=typeof window&&window.opera?a.stacktrace?a.message.indexOf("\n")>-1&&a.message.split("\n").length>a.stacktrace.split("\n").length?"opera9":a.stack?a.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":"opera10a":"opera9":a.stack&&!a.fileName?"chrome":a.stack?"firefox":"other"},instrumentFunction:function(a,b,c){a=a||window;var d=a[b];a[b]=function(){return c.call(this,printStackTrace().slice(4)),a[b]._instrumented.apply(this,arguments)},a[b]._instrumented=d},deinstrumentFunction:function(a,b){a[b].constructor===Function&&a[b]._instrumented&&a[b]._instrumented.constructor===Function&&(a[b]=a[b]._instrumented)},chrome:function(a){var b=(a.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n");return b.pop(),b},safari:function(a){return a.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(a){var b=/^.*at (\w+) \(([^\)]+)\)$/gm;return a.stack.replace(/at Anonymous function /gm,"{anonymous}()@").replace(/^(?=\w+Error\:).*$\n/m,"").replace(b,"$1@$2").split("\n")},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^[\(@]/gm,"{anonymous}()@").split("\n")},opera11:function(a){for(var b="{anonymous}",c=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,d=a.stacktrace.split("\n"),e=[],f=0,g=d.length;g>f;f+=2){var h=c.exec(d[f]);if(h){var i=h[4]+":"+h[1]+":"+h[2],j=h[3]||"global code";j=j.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,b),e.push(j+"@"+i+" -- "+d[f+1].replace(/^\s+/,""))}}return e},opera10b:function(a){for(var b=/^(.*)@(.+):(\d+)$/,c=a.stacktrace.split("\n"),d=[],e=0,f=c.length;f>e;e++){var g=b.exec(c[e]);if(g){var h=g[1]?g[1]+"()":"global code";d.push(h+"@"+g[2]+":"+g[3])}}return d},opera10a:function(a){for(var b="{anonymous}",c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=a.stacktrace.split("\n"),e=[],f=0,g=d.length;g>f;f+=2){var h=c.exec(d[f]);if(h){var i=h[3]||b;e.push(i+"()@"+h[2]+":"+h[1]+" -- "+d[f+1].replace(/^\s+/,""))}}return e},opera9:function(a){for(var b="{anonymous}",c=/Line (\d+).*script (?:in )?(\S+)/i,d=a.message.split("\n"),e=[],f=2,g=d.length;g>f;f+=2){var h=c.exec(d[f]);h&&e.push(b+"()@"+h[2]+":"+h[1]+" -- "+d[f+1].replace(/^\s+/,""))}return e},other:function(a){for(var b,c,d="{anonymous}",e=/function\s*([\w\-$]+)?\s*\(/i,f=[],g=10;a&&a.arguments&&f.length<g;)b=e.test(a.toString())?RegExp.$1||d:d,c=Array.prototype.slice.call(a.arguments||[]),f[f.length]=b+"("+this.stringifyArguments(c)+")",a=a.caller;return f},stringifyArguments:function(a){for(var b=[],c=Array.prototype.slice,d=0;d<a.length;++d){var e=a[d];void 0===e?b[d]="undefined":null===e?b[d]="null":e.constructor&&(e.constructor===Array?b[d]=e.length<3?"["+this.stringifyArguments(e)+"]":"["+this.stringifyArguments(c.call(e,0,1))+"..."+this.stringifyArguments(c.call(e,-1))+"]":e.constructor===Object?b[d]="#object":e.constructor===Function?b[d]="#function":e.constructor===String?b[d]='"'+e+'"':e.constructor===Number&&(b[d]=e))}return b.join(",")},sourceCache:{},ajax:function(a){var b=this.createXMLHTTPObject();if(b)try{return b.open("GET",a,!1),b.send(null),b.responseText}catch(c){}return""},createXMLHTTPObject:function(){for(var a,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0;c<b.length;c++)try{return a=b[c](),this.createXMLHTTPObject=b[c],a}catch(d){}},isSameDomain:function(a){return"undefined"!=typeof location&&-1!==a.indexOf(location.hostname)},getSource:function(a){return a in this.sourceCache||(this.sourceCache[a]=this.ajax(a).split("\n")),this.sourceCache[a]},guessAnonymousFunctions:function(a){for(var b=0;b<a.length;++b){var c=/\{anonymous\}\(.*\)@(.*)/,d=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,e=a[b],f=c.exec(e);if(f){var g=d.exec(f[1]);if(g){var h=g[1],i=g[2],j=g[3]||0;if(h&&this.isSameDomain(h)&&i){var k=this.guessAnonymousFunction(h,i,j);a[b]=e.replace("{anonymous}",k)}}}}return a},guessAnonymousFunction:function(a,b){var c;try{c=this.findFunctionName(this.getSource(a),b)}catch(d){c="getSource failed with url: "+a+", exception: "+d.toString()}return c},findFunctionName:function(a,b){for(var c,d,e,f=/function\s+([^(]*?)\s*\(([^)]*)\)/,g=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,h=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,i="",j=Math.min(b,20),k=0;j>k;++k)if(c=a[b-k-1],e=c.indexOf("//"),e>=0&&(c=c.substr(0,e)),c){if(i=c+i,d=g.exec(i),d&&d[1])return d[1];if(d=f.exec(i),d&&d[1])return d[1];if(d=h.exec(i),d&&d[1])return d[1]}return"(?)"}},"undefined"==typeof F&&(F=FightErr=function(){"use strict";F.log.apply(F,F.argToArr(arguments))},"undefined"!=typeof window&&(window.F=window.FightErr=FightErr),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=FightErr)),function(a){"use strict";var b="function",c={},d="undefined"!=typeof window&&!!window.chrome,e="undefined"!=typeof window&&window.printStackTrace?window.printStackTrace:!1,f=!!console;a.fn=function(b,c,d){if(!a.isFn(c))throw a.e(b,d,"function",typeof c,c)},a.arr=function(b,c,d){if(!a.isArr(c))throw a.e(b,d,"Array",typeof c,c)},a.str=function(b,c,d){if(!a.isStr(c))throw a.e(b,d,"string",typeof c,c)},a.num=function(b,c,d){if(!a.isNum(c))throw a.e(b,d,"number",typeof c,c)},a.bool=function(b,c,d){if(!a.isBool(c))throw a.e(b,d,"boolean",typeof c,c)},a.obj=function(b,c,d){if(!a.isObj(c))throw a.e(b,d,"object",typeof c,c)},a.udef=function(b,c,d){if(!a.isUdef(c))throw a.e(b,d,"undefined",typeof c,c)},a.def=function(b,c,d){if(!a.isDef(c))throw a.e(b,d,"any defined value",typeof c,c)},a.inst=function(b,c,d,e){if(!a.isInst(c,d))throw a.e(b,e,"instance of "+a.toStr(c),c&&c.constructor?c.constructor.name:a.toStr(c),c)},a.truthy=function(b,c,d){if(!c)throw a.e(b,d,"truthy",!a.toBool(c),c)},a.falsy=function(b,c,d){if(c)throw a.e(b,d,"falsy",!!a.toBool(c),c)},a.isFn=function(a){return"[object Function]"===c.toString.call(a)},a.isArr=function(a){return"[object Array]"===c.toString.call(a)},a.isBool=function(a){return"boolean"==typeof a},a.isStr=function(a){return"string"==typeof a&&!!a},a.isObj=function(a){return"object"==typeof a&&!!a&&a.constructor===c.constructor},a.isUdef=function(a){return"undefined"==typeof a},a.isDef=function(a){return"undefined"!=typeof a},a.isNum=function(a){return("number"==typeof a||"[object Number]"===c.toString.call(a))&&!isNaN(a)},a.isInt=function(b){return a.isNum(b)&&b%1===0},a.isFloat=function(b){return a.isNum(b)&&b%1!==0},a.isInst=function(a,b){try{return a instanceof b}catch(c){}return!1},a.isNone=function(b){return null===b||a.isUdef(b)},a.isNotNone=function(b){return null!==b&&a.isDef(b)},a.implement=function(b,c){var d,e;if(a.arr("interfazz",c,"F.implement"),e=c.length,a.isNone(b))return!1;for(d=0;e>d;d+=1)if(!a.isFn(b[c[d]]))return!1;return!0},a.pInt=function(a,b){return a=parseInt(a,10),isNaN(a)?b||0:a},a.pFloat=function(a,b){return a=parseFloat(a),isNaN(a)?b||0:a},a.toStr=function(c,d){return null===c||a.isUdef(c)?d||"":typeof c.toString===b?c.toString()||d||"":(c=String+c,!c&&d?d:c)},a.toString=function(b,c){return a.toStr(b,c)},a.toArr=function(b,c){return a.isArr(b)?b:a.isArr(c)?c:[]},a.toBool=function(a){return a===!0?a:!1},a.range=function(b,c,d,e){if(!a.isNum(b))return a.isNum(e)?e:0;if(a.num("min",c,"F.range"),a.num("max",d,"F.range"),c>d)throw new Error("F.range: Min value must be less than max value");if(c>b){if(a.isNum(e))return e;b=c}else if(b>d){if(a.isNum(e))return e;b=d}return b},a.len=function(b){return a.isArr(b)||b&&b.hasOwnProperty("length")?b.length:0},a.argToArr=function(a){return a?Array.prototype.slice.call(a):[]},a.error=function(a){throw new Error("[ERROR] "+a)},a.log=function(){if(f){var b=a.argToArr(arguments);d?(b.unshift("font-weight:bold;color: #55E;"),b.unshift("%c[DEBUG]")):b.unshift("[DEBUG]"),console.log.apply(console,b)}},a.notice=function(){a.log.apply(a,a.argToArr(arguments))},a.warn=function(){if(f){var b=a.argToArr(arguments);d?(b.unshift("font-weight:bold;color: #f3a600;"),b.unshift("%c[WARNING]")):b.unshift("[WARNING]"),b.push("\n"+a.stackTraceCleanup(e({guess:!1}))[0].split(" ")[0]),console.warn.apply(console,b)}},a.deprecated=function(b,c,g){if(f){var h=a.argToArr(arguments),i='"'+b+'" is deprecated '+(c?'in favor of "'+c+'"':" without any replacement suggested")+".\n"+(g?"Message: "+g+"\n":"");h.shift(),h.shift(),d?(h.unshift("font-weight:bold;color: #f3a600;"),h.unshift("%c[DEPRECATED]")):h.unshift("[DEPRECATED]"),h.unshift(i),h.push(a.stackTraceCleanup(e({guess:!1})).join("\n")),console.warn.apply(console,h)}},a.assert=function(b,c,d){if(!b){if(!d)throw new Error("[FAILURE] "+(c||""));a.log("[FAILURE] "+c)}},a.e=function(b,c,d,f,g){return a.warn("Illegal argument type error: Argument "+b+" of function ["+c+"] should be ["+d+"] but is ["+f+"]. Argument value: ",g),e&&a.warn(a.stackTraceCleanup(e())),new TypeError("Illegal argument error")},a.stackTraceCleanup=function(a){for(;a.length>0&&(a[0].indexOf("printStackTrace")>-1||a[0].indexOf("F.deprecated")>-1||a[0].indexOf("F.warn")>-1);)a.shift();return a}}(FightErr);